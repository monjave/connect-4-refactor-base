
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Connect 4 â€” Refactor Skeleton</title>
  <link rel="stylesheet" href="./styles.css">
</head>
<body>
  <header>
    <h1 id="title">Connect 4</h1>
    <div class="score">
      <span>Player 1: <strong id="p1">0</strong></span>
      <span>Player 2: <strong id="p2">0</strong></span>
      <span class="turn">Turn: <strong id="turn">1</strong></span>
    </div>
    <div class="controls">
      <button id="reset">Reset</button>
      <button id="undo">Undo</button>
      <button id="redo">Redo</button>
    </div>
  </header>

  <main>
    <div id="board" class="board" aria-label="Connect 4 board"></div>
  </main>

  <script type="module">
    import { GameController } from './src/controller.js';
    import { FourInARowStrategy } from './src/win_strategy.js';
    import { BoardView } from './src/view.js';
    import { CommandManager } from './src/command_manager.js';

    const controller = new GameController({
      rows: 6,
      cols: 7,
      winStrategy: new FourInARowStrategy()
    });

    const commands = new CommandManager(controller);

    const view = new BoardView({
      root: document.querySelector('#board'),
      titleEl: document.querySelector('#title'),
      p1El: document.querySelector('#p1'),
      p2El: document.querySelector('#p2'),
      turnEl: document.querySelector('#turn'),
      resetBtn: document.querySelector('#reset'),
      undoBtn: document.querySelector('#undo'),
      redoBtn: document.querySelector('#redo'),
      controller,
      commands
    });

    // Expose for console testing:
    window.c4 = controller;
  </script>
</body>
</html>
